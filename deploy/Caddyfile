# CRM - Caddy Configuration
# For IP-only access (no domain/SSL)

:80 {
    root * /var/www/crm/public

    # PHP-FPM
    php_fastcgi unix//run/php/php8.2-fpm.sock

    # Static files
    file_server

    # Laravel routing
    try_files {path} {path}/ /index.php?{query}

    # Security headers
    header {
        X-Content-Type-Options nosniff
        X-Frame-Options DENY
        -Server
    }

    # Logs
    log {
        output file /var/log/caddy/crm.log
    }
}
